(function(){"use strict";var e={4180:function(e,t,a){var o=a(5130),n=(a(3009),a(6768));function l(e,t,a,o,l,s){const r=(0,n.g2)("DashboardComponent");return(0,n.uX)(),(0,n.Wv)(r)}var s=a(4232);const r={class:"container mt-5"},i={class:"mb-4 row"},d={class:"col-md-4"},c={class:"col-md-4"},u={class:"col-md-4 d-flex align-items-end"},h={class:"card mb-4"},v={class:"card-body"},f={class:"row"},b={class:"col-md-4"},m={class:"col-md-4"},p={class:"col-md-4"},k={class:"card mb-4"},g={class:"card-body"},L={class:"row"},D={class:"col-md-4"},C={class:"col-md-4"},y={class:"col-md-4"};function I(e,t,a,l,I,G){const _=(0,n.g2)("Bar");return(0,n.uX)(),(0,n.CE)("div",r,[t[27]||(t[27]=(0,n.Lk)("h1",{class:"text-center mb-4"},"Covid-19 Dashboard",-1)),(0,n.Lk)("div",i,[(0,n.Lk)("div",d,[t[3]||(t[3]=(0,n.Lk)("label",{for:"startDate",class:"form-label"},"Start Date:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"startDate",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>I.startDate=e)},null,512),[[o.Jo,I.startDate]])]),(0,n.Lk)("div",c,[t[4]||(t[4]=(0,n.Lk)("label",{for:"endDate",class:"form-label"},"End Date:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"endDate",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>I.endDate=e)},null,512),[[o.Jo,I.endDate]])]),(0,n.Lk)("div",u,[(0,n.Lk)("button",{class:"btn btn-primary mt-3 w-100",onClick:t[2]||(t[2]=(...e)=>G.applyDateFilter&&G.applyDateFilter(...e))},"Apply Date Filter")])]),(0,n.Lk)("div",h,[t[15]||(t[15]=(0,n.Lk)("div",{class:"card-header bg-primary text-white"},[(0,n.Lk)("h2",null,"Indonesia Data")],-1)),(0,n.Lk)("div",v,[(0,n.Lk)("div",f,[(0,n.Lk)("div",b,[(0,n.Lk)("p",null,[t[5]||(t[5]=(0,n.Lk)("strong",null,"Total Confirmed:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalIndonesia.confirmed),1)]),(0,n.Lk)("p",null,[t[6]||(t[6]=(0,n.Lk)("strong",null,"Total Recovered:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalIndonesia.recovered),1)]),(0,n.Lk)("p",null,[t[7]||(t[7]=(0,n.Lk)("strong",null,"Total Deaths:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalIndonesia.deaths),1)])]),(0,n.Lk)("div",m,[(0,n.Lk)("p",null,[t[8]||(t[8]=(0,n.Lk)("strong",null,"Cumulative Confirmed:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeIndonesia.confirmed),1)]),(0,n.Lk)("p",null,[t[9]||(t[9]=(0,n.Lk)("strong",null,"Cumulative Recovered:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeIndonesia.recovered),1)]),(0,n.Lk)("p",null,[t[10]||(t[10]=(0,n.Lk)("strong",null,"Cumulative Deaths:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeIndonesia.deaths),1)])]),(0,n.Lk)("div",p,[(0,n.Lk)("p",null,[t[11]||(t[11]=(0,n.Lk)("strong",null,"Recovery Rate:",-1)),(0,n.eW)(" "+(0,s.v_)(I.recoveryRateIndonesia)+"%",1)]),(0,n.Lk)("p",null,[t[12]||(t[12]=(0,n.Lk)("strong",null,"Death Rate:",-1)),(0,n.eW)(" "+(0,s.v_)(I.deathRateIndonesia)+"%",1)]),(0,n.Lk)("p",null,[t[13]||(t[13]=(0,n.Lk)("strong",null,"Active Cases:",-1)),(0,n.eW)(" "+(0,s.v_)(I.activeCasesIndonesia),1)]),(0,n.Lk)("p",null,[t[14]||(t[14]=(0,n.Lk)("strong",null,"Percentage of Confirmed Cases:",-1)),(0,n.eW)(" "+(0,s.v_)(I.percentageIndonesia)+"%",1)])])]),(0,n.bF)(_,{id:"indonesiaChart",options:I.chartOptions,data:I.chartData},null,8,["options","data"])])]),(0,n.Lk)("div",k,[t[26]||(t[26]=(0,n.Lk)("div",{class:"card-header bg-success text-white"},[(0,n.Lk)("h2",null,"Global Data")],-1)),(0,n.Lk)("div",g,[(0,n.Lk)("div",L,[(0,n.Lk)("div",D,[(0,n.Lk)("p",null,[t[16]||(t[16]=(0,n.Lk)("strong",null,"Total Confirmed:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalGlobal.confirmed),1)]),(0,n.Lk)("p",null,[t[17]||(t[17]=(0,n.Lk)("strong",null,"Total Recovered:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalGlobal.recovered),1)]),(0,n.Lk)("p",null,[t[18]||(t[18]=(0,n.Lk)("strong",null,"Total Deaths:",-1)),(0,n.eW)(" "+(0,s.v_)(I.totalGlobal.deaths),1)])]),(0,n.Lk)("div",C,[(0,n.Lk)("p",null,[t[19]||(t[19]=(0,n.Lk)("strong",null,"Cumulative Confirmed:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeGlobal.confirmed),1)]),(0,n.Lk)("p",null,[t[20]||(t[20]=(0,n.Lk)("strong",null,"Cumulative Recovered:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeGlobal.recovered),1)]),(0,n.Lk)("p",null,[t[21]||(t[21]=(0,n.Lk)("strong",null,"Cumulative Deaths:",-1)),(0,n.eW)(" "+(0,s.v_)(I.cumulativeGlobal.deaths),1)])]),(0,n.Lk)("div",y,[(0,n.Lk)("p",null,[t[22]||(t[22]=(0,n.Lk)("strong",null,"Recovery Rate:",-1)),(0,n.eW)(" "+(0,s.v_)(I.recoveryRateGlobal)+"%",1)]),(0,n.Lk)("p",null,[t[23]||(t[23]=(0,n.Lk)("strong",null,"Death Rate:",-1)),(0,n.eW)(" "+(0,s.v_)(I.deathRateGlobal)+"%",1)]),(0,n.Lk)("p",null,[t[24]||(t[24]=(0,n.Lk)("strong",null,"Active Cases:",-1)),(0,n.eW)(" "+(0,s.v_)(I.activeCasesGlobal),1)]),(0,n.Lk)("p",null,[t[25]||(t[25]=(0,n.Lk)("strong",null,"Percentage of Confirmed Cases:",-1)),(0,n.eW)(" "+(0,s.v_)(I.percentageGlobal)+"%",1)])])]),(0,n.bF)(_,{id:"globalChart",options:I.chartOptions,data:I.globalChartData},null,8,["options","data"])])])])}a(8111),a(2489),a(1701),a(8237);var G=a(1010),_=a(9064),w=a(4373);_.t1.register(_.hE,_.m_,_.s$,_.E8,_.PP,_.kc);var R={name:"DashboardComponent",components:{Bar:G.yP},data(){return{startDate:"",endDate:"",chartData:{labels:[],datasets:[]},globalChartData:{labels:[],datasets:[]},totalIndonesia:{confirmed:0,recovered:0,deaths:0},totalGlobal:{confirmed:0,recovered:0,deaths:0},cumulativeIndonesia:{confirmed:0,recovered:0,deaths:0},cumulativeGlobal:{confirmed:0,recovered:0,deaths:0},percentageIndonesia:0,percentageGlobal:0,recoveryRateIndonesia:0,deathRateIndonesia:0,activeCasesIndonesia:0,recoveryRateGlobal:0,deathRateGlobal:0,activeCasesGlobal:0,chartOptions:{responsive:!0,scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Count"}}}}}},mounted(){this.fetchCovidData()},beforeUnmount(){this.indonesiaChart&&this.indonesiaChart.destroy(),this.globalChart&&this.globalChart.destroy()},methods:{async fetchCovidData(){try{const e=await w.A.get("http://localhost:3000/covid/dashboard");let t=e.data.indonesiaData.sort((e,t)=>new Date(e.date)-new Date(t.date)),a=e.data.globalData.sort((e,t)=>new Date(e.date)-new Date(t.date)),o=t,n=a;if(this.startDate&&this.endDate){const e=new Date(this.endDate);e.setDate(e.getDate()+1),o=o.filter(t=>{const a=new Date(t.date);return a>=new Date(this.startDate)&&a<=e}),n=n.filter(t=>{const a=new Date(t.date);return a>=new Date(this.startDate)&&a<=e})}const l=o.map(e=>new Date(e.date).toLocaleDateString()),s=o.map(e=>e.confirmed),r=o.map(e=>e.recovered),i=o.map(e=>e.deaths);this.totalIndonesia.confirmed=s.reduce((e,t)=>e+t,0),this.totalIndonesia.recovered=r.reduce((e,t)=>e+t,0),this.totalIndonesia.deaths=i.reduce((e,t)=>e+t,0),this.cumulativeIndonesia.confirmed=s[s.length-1]||0,this.cumulativeIndonesia.recovered=r[r.length-1]||0,this.cumulativeIndonesia.deaths=i[i.length-1]||0;const d=this.totalIndonesia.confirmed/(this.totalIndonesia.confirmed+this.totalIndonesia.recovered+this.totalIndonesia.deaths)*100;this.percentageIndonesia=d.toFixed(2);const c=this.totalIndonesia.recovered/this.totalIndonesia.confirmed*100;this.recoveryRateIndonesia=c.toFixed(2);const u=this.totalIndonesia.deaths/this.totalIndonesia.confirmed*100;this.deathRateIndonesia=u.toFixed(2),this.activeCasesIndonesia=this.totalIndonesia.confirmed-(this.totalIndonesia.recovered+this.totalIndonesia.deaths),this.chartData={labels:l,datasets:[{label:"Confirmed Cases",data:s,backgroundColor:"#ff9999"},{label:"Recovered Cases",data:r,backgroundColor:"#66b3ff"},{label:"Deaths",data:i,backgroundColor:"#99ff99"}]};const h=n.map(e=>new Date(e.date).toLocaleDateString()),v=n.map(e=>e.confirmed),f=n.map(e=>e.recovered),b=n.map(e=>e.deaths);this.totalGlobal.confirmed=v.reduce((e,t)=>e+t,0),this.totalGlobal.recovered=f.reduce((e,t)=>e+t,0),this.totalGlobal.deaths=b.reduce((e,t)=>e+t,0),this.cumulativeGlobal.confirmed=v[v.length-1]||0,this.cumulativeGlobal.recovered=f[f.length-1]||0,this.cumulativeGlobal.deaths=b[b.length-1]||0;const m=this.totalGlobal.confirmed/(this.totalGlobal.confirmed+this.totalGlobal.recovered+this.totalGlobal.deaths)*100;this.percentageGlobal=m.toFixed(2);const p=this.totalGlobal.recovered/this.totalGlobal.confirmed*100;this.recoveryRateGlobal=p.toFixed(2);const k=this.totalGlobal.deaths/this.totalGlobal.confirmed*100;this.deathRateGlobal=k.toFixed(2),this.activeCasesGlobal=this.totalGlobal.confirmed-(this.totalGlobal.recovered+this.totalGlobal.deaths),this.globalChartData={labels:h,datasets:[{label:"Confirmed Cases",data:v,backgroundColor:"#ff9999"},{label:"Recovered Cases",data:f,backgroundColor:"#66b3ff"},{label:"Deaths",data:b,backgroundColor:"#99ff99"}]}}catch(e){console.error("Error fetching data:",e)}},applyDateFilter(){this.fetchCovidData()}}},W=a(1241);const x=(0,W.A)(R,[["render",I],["__scopeId","data-v-01564909"]]);var O=x,F={name:"App",components:{DashboardComponent:O}};const T=(0,W.A)(F,[["render",l]]);var P=T;(0,o.Ef)(P).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,l){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],l=e[c][2];for(var r=!0,i=0;i<o.length;i++)(!1&l||s>=l)&&Object.keys(a.O).every(function(e){return a.O[e](o[i])})?o.splice(i--,1):(r=!1,l<s&&(s=l));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,n,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,s=o[0],r=o[1],i=o[2],d=0;if(s.some(function(t){return 0!==e[t]})){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(i)var c=i(a)}for(t&&t(o);d<s.length;d++)l=s[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},o=self["webpackChunkcovid_dashboard_frontend"]=self["webpackChunkcovid_dashboard_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(4180)});o=a.O(o)})();
//# sourceMappingURL=app.82e9848a.js.map